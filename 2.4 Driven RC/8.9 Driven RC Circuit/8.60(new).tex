\input{../../preamble.tex}
\begin{document}
\begin{circuitikz}[american,cute inductors]
    \input{../../preamble2.tex}
    \draw (3.3,7) node[cute spdt down arrow,rotate=180](S1){};

    %%% vertical %%%
    \draw(s) 
        to[V,l=\vsname{1}] ++(0,3)
        to[R,l=\rname{1}] ++(0,3)
        to[short] (s |- S1.out 2);

    \draw(S1-out 1.n)
        to[short] (S1-out 1.n |- 0,6);

    \draw(2,0) 
        to[V,l=\vsname{2}] ++(0,3)
        to[R,l=\rname{2}] ++(0,3);

    \draw(4,0) 
        to[R,l=\rname{3}] ++(0,6);

    \draw(6,0) 
        to[R,l=\rname{4}] ++(0,6)
        to[short,-*] (6,0 |- S1.in);

    \draw(8,0) 
        to[C,l=\cname{}] ++(0,6)
        to[short] (8,0 |- S1.in);

    %%% horizontal %%%
    \draw(s)
        to[short,-*] ++(2,0)
        to[short,-*] ++(2,0)
        to[short,-*] ++(2,0)
        to[short] ++(2,0);

    \draw(2,6)
        to[short,-*] ++(1,0)
        to[short] ++(1,0);

    \draw(s |- S1.out 2)
        to[short] (S1.out 2);
    
    \draw(S1.in)
        to[short] (8,0 |- S1.in);


    %%% find %%%
    \node at (3.3,7.8)[]{$t=0$};
    \draw[magenta](8.2,1.8)
        to[open, v>=$v_c(t)$] ++(0,2.5);
    \draw[circuitikz/current arrow color=magenta](4,2.4)
        to[open,f>^=$\color{magenta}{i(t)}$] ++(0,-2.4);
\end{circuitikz}
\end{document}
